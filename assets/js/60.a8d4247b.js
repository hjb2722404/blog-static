(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{224:function(s,a,t){"use strict";t.r(a);var l=t(0),n=Object(l.a)({},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"content"},[t("p",[s._v("我们的第一个H5应用经过"),t("a",{attrs:{href:"http://blog.csdn.net/hjb2722404/article/details/46363367",target:"_blank",rel:"noopener noreferrer"}},[s._v("V1.0"),t("OutboundLink")],1),s._v("与"),t("a",{attrs:{href:"http://blog.csdn.net/hjb2722404/article/details/46380421",target:"_blank",rel:"noopener noreferrer"}},[s._v("V2.0"),t("OutboundLink")],1),s._v("的制作，已经越来越惊艳了，这一次，我们继续来给她梳妆打扮，让她更漂亮。")]),s._v(" "),s._m(0),s._v(" "),t("blockquote",[s._v("\n  1、加入页面加载完成前的loading动画，提升用户体验；     \n  2、加入背景音乐，自动播放，并添加控制图标，可以控制播放与暂停     \n  3、让页面实现自动切换。\n")]),s._v(" "),s._m(1),s._v(" "),t("p",[s._v("####第一步：Loading动画")]),s._v(" "),t("p",[s._v("index.html")]),s._v(" "),s._m(2),s._v(" "),t("p",[s._v("style.css")]),s._v(" "),s._m(3),s._v(" "),t("p",[s._v("效果：")]),s._v(" "),s._m(4),s._v(" "),t("p",[s._v("我们让它在页面加载完成之后就自动隐藏，并且让下面的箭头在页面完成加载后再出现：")]),s._v(" "),t("p",[s._v("myfn.js")]),s._v(" "),s._m(5),s._v(" "),t("p",[s._v("style.css")]),s._v(" "),s._m(6),s._v(" "),t("p",[s._v("好了，loading动画就处理好了。")]),s._v(" "),t("p",[s._v("####第二步：背景音乐")]),s._v(" "),t("p",[s._v("我们先要准备好背景音乐的素材，最好是纯音乐的，并且经过剪切的，因为是移动端，既要考虑流量问题，也要考虑到我们整个应用的时长，并且充分利用循环播放的特性。")]),s._v(" "),t("p",[s._v("由于移动端浏览器基本上都是支持H5的，而我们做的也是基于H5的应用，所以我们直接采用H5的标签来在页面中插入音乐。")]),s._v(" "),t("p",[s._v("index.html")]),s._v(" "),s._m(7),s._v(" "),t("p",[s._v("再次刷新浏览器，便可听到我们插入的悦耳的音乐了。")]),s._v(" "),t("p",[s._v("现在，我们加入控制图标并在myfn.js里编写控制播放与暂停的功能。")]),s._v(" "),t("p",[s._v("我们准备两张png格式的图片，分别在音乐播放与暂停时来显示，如图：")]),s._v(" "),s._m(8),s._v(" "),t("p",[s._v("在页面中加入一个ID为audioPlay的div，负责显示图片：")]),s._v(" "),t("p",[s._v("index.html")]),s._v(" "),s._m(9),s._v(" "),t("p",[s._v("style.css")]),s._v(" "),s._m(10),s._v(" "),t("p",[s._v("效果如图：")]),s._v(" "),s._m(11),s._v(" "),t("p",[s._v("然后我对myfn.js进行改造，将页面切换部分的代码封装为一个独立的功能函数，方便后面自动切换使用，为了避免与音乐控制按钮发生冲突，将页面切换监听事件绑定到.page之上。改造后的myfn.js全部代码如下：")]),s._v(" "),t("p",[s._v("myfn.js")]),s._v(" "),s._m(12),s._v(" "),t("p",[s._v("再次刷新浏览器，初始状态下音乐自动播放，并且控制按钮为亮色的，点击控制按钮后，音乐暂停播放，图标变为暗色，如下图：")]),s._v(" "),s._m(13),s._v(" "),t("p",[s._v("####第三步：自动切换")]),s._v(" "),t("p",[s._v("实现自动切换的原理其实就是一个典型的定时器功能，代码如下：")]),s._v(" "),t("p",[s._v("myfn.js")]),s._v(" "),s._m(14),s._v(" "),t("p",[s._v("这样就实现了页面每四秒自动切换至下一页的功能。")]),s._v(" "),t("blockquote",[s._v("\n  好了，这一次的改造相对来说比较简单，V3.0版本就大功告成了。\n")])])},[function(){var s=this.$createElement,a=this._self._c||s;return a("p",[this._v("###"),a("strong",[this._v("任务")])])},function(){var s=this.$createElement,a=this._self._c||s;return a("p",[this._v("###"),a("strong",[this._v("实现")])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("pre",{staticClass:"prettyprint"},[s._v("……\n"),t("span",{staticClass:"hljs-tag"},[s._v("<"),t("span",{staticClass:"hljs-title"},[s._v("body")]),s._v(">")]),s._v("\n"),t("span",{staticClass:"hljs-tag"},[s._v("<"),t("span",{staticClass:"hljs-title"},[s._v("div")]),s._v(" "),t("span",{staticClass:"hljs-attribute"},[s._v("class")]),s._v("="),t("span",{staticClass:"hljs-value"},[s._v("'loader loader--spinningDisc'")]),s._v(">")]),t("span",{staticClass:"hljs-tag"},[s._v("</"),t("span",{staticClass:"hljs-title"},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{staticClass:"hljs-tag"},[s._v("<"),t("span",{staticClass:"hljs-title"},[s._v("div")]),s._v(" "),t("span",{staticClass:"hljs-attribute"},[s._v("id")]),s._v("="),t("span",{staticClass:"hljs-value"},[s._v('"pages"')]),s._v(">")]),s._v("\n……")])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("pre",{staticClass:"prettyprint"},[t("span",{staticClass:"hljs-class"},[s._v(".loader")]),s._v(" "),t("span",{staticClass:"hljs-rules"},[s._v("{\n    "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("margin")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-number"},[s._v("10")]),s._v("em auto")])]),s._v(";\n    "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("z-index")]),s._v(":"),t("span",{staticClass:"hljs-value"},[t("span",{staticClass:"hljs-number"},[s._v("10000")])])]),s._v(";\n"),t("span",{staticClass:"hljs-rule"},[s._v("}")])]),s._v("\n\n"),t("span",{staticClass:"hljs-class"},[s._v(".loader--spinningDisc")]),s._v(" "),t("span",{staticClass:"hljs-rules"},[s._v("{\n    "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("border")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" solid "),t("span",{staticClass:"hljs-number"},[s._v("0.5")]),s._v("em "),t("span",{staticClass:"hljs-hexcolor"},[s._v("#9b59b6")])])]),s._v(";\n    "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("border-right-color")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" transparent")])]),s._v(";\n    "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("border-left-color")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" transparent")])]),s._v(";\n    "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("padding")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-number"},[s._v("0.5")]),s._v("em")])]),s._v(";\n    "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("width")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-number"},[s._v("2")]),s._v("em")])]),s._v(";\n    "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("height")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-number"},[s._v("2")]),s._v("em")])]),s._v(";\n    "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("border-radius")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-number"},[s._v("50")]),s._v("%")])]),s._v(";\n    "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("background")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-hexcolor"},[s._v("#3498db")])])]),s._v(";\n    "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("background-clip")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" content-box")])]),s._v(";\n    "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("animation")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" spinDisc "),t("span",{staticClass:"hljs-number"},[s._v("1.5")]),s._v("s linear infinite")])]),s._v(";\n"),t("span",{staticClass:"hljs-rule"},[s._v("}")])]),s._v("\n"),t("span",{staticClass:"hljs-at_rule"},[s._v("@"),t("span",{staticClass:"hljs-keyword"},[s._v("keyframes")]),s._v(" spinDisc ")]),s._v("{\n    50% "),t("span",{staticClass:"hljs-rules"},[s._v("{\n        "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("border-top-color")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-hexcolor"},[s._v("#3498db")])])]),s._v(";\n        "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("border-bottom-color")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-hexcolor"},[s._v("#3498db")])])]),s._v(";\n        "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("background-color")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-hexcolor"},[s._v("#2ecc71")])])]),s._v(";\n    "),t("span",{staticClass:"hljs-rule"},[s._v("}")])]),s._v("\n    100% "),t("span",{staticClass:"hljs-rules"},[s._v("{\n        "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("transform")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-function"},[s._v("rotate("),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v("turn)")])])]),s._v(";\n    "),t("span",{staticClass:"hljs-rule"},[s._v("}")])]),s._v("\n}")])},function(){var s=this.$createElement,a=this._self._c||s;return a("p",[a("img",{attrs:{src:"http://img.blog.csdn.net/20150608094144516",alt:"这里写图片描述"}})])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("pre",{staticClass:"prettyprint"},[s._v("window.onload = "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),t("span",{staticClass:"hljs-params"},[s._v("()")]),s._v("{")]),s._v("\n    $("),t("span",{staticClass:"hljs-string"},[s._v('".loader"')]),s._v(").css("),t("span",{staticClass:"hljs-string"},[s._v('"z-index"')]),s._v(","),t("span",{staticClass:"hljs-string"},[s._v('"1"')]),s._v(");\n    $("),t("span",{staticClass:"hljs-string"},[s._v('".upicon"')]),s._v(").css("),t("span",{staticClass:"hljs-string"},[s._v('"z-index"')]),s._v(","),t("span",{staticClass:"hljs-string"},[s._v('"1000"')]),s._v(");\n}\n")])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("pre",{staticClass:"prettyprint"},[t("span",{staticClass:"hljs-class"},[s._v(".upicon")]),s._v(" "),t("span",{staticClass:"hljs-rules"},[s._v("{\n  "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("width")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-number"},[s._v("60")]),s._v("px")])]),s._v(";\n  "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("height")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-number"},[s._v("60")]),s._v("px")])]),s._v(";\n  "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("position")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" absolute")])]),s._v(";\n  "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("left")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-number"},[s._v("50")]),s._v("%")])]),s._v(";\n  "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("bottom")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-number"},[s._v("20")]),s._v("px")])]),s._v(";\n  "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("margin-left")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" -"),t("span",{staticClass:"hljs-number"},[s._v("30")]),s._v("px")])]),s._v(";\n  "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("z-index")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-number"},[s._v("1")])])]),s._v("; "),t("span",{staticClass:"hljs-rule"},[s._v("//注意这里与之前的不同\n}")])])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("pre",{staticClass:"prettyprint"},[s._v("……\n"),t("span",{staticClass:"hljs-tag"},[s._v("<"),t("span",{staticClass:"hljs-title"},[s._v("audio")]),s._v(" "),t("span",{staticClass:"hljs-attribute"},[s._v("src")]),s._v("="),t("span",{staticClass:"hljs-value"},[s._v('"1.mp3"')]),s._v(" "),t("span",{staticClass:"hljs-attribute"},[s._v("autoplay")]),s._v("="),t("span",{staticClass:"hljs-value"},[s._v('"autoplay"')]),s._v(" "),t("span",{staticClass:"hljs-attribute"},[s._v("id")]),s._v("="),t("span",{staticClass:"hljs-value"},[s._v('"audio"')]),s._v(" "),t("span",{staticClass:"hljs-attribute"},[s._v("hidden")]),s._v("="),t("span",{staticClass:"hljs-value"},[s._v('"hidden"')]),s._v(">")]),t("span",{staticClass:"hljs-tag"},[s._v("</"),t("span",{staticClass:"hljs-title"},[s._v("audio")]),s._v(">")]),s._v("\n\n……")])},function(){var s=this.$createElement,a=this._self._c||s;return a("p",[a("img",{attrs:{src:"http://img.blog.csdn.net/20150608100107633",alt:"这里写图片描述"}})])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("pre",{staticClass:"prettyprint"},[s._v("……\n"),t("span",{staticClass:"hljs-tag"},[s._v("<"),t("span",{staticClass:"hljs-title"},[s._v("audio")]),s._v(" "),t("span",{staticClass:"hljs-attribute"},[s._v("src")]),s._v("="),t("span",{staticClass:"hljs-value"},[s._v('"1.mp3"')]),s._v(" "),t("span",{staticClass:"hljs-attribute"},[s._v("autoplay")]),s._v("="),t("span",{staticClass:"hljs-value"},[s._v('"autoplay"')]),s._v(" "),t("span",{staticClass:"hljs-attribute"},[s._v("id")]),s._v("="),t("span",{staticClass:"hljs-value"},[s._v('"audio"')]),s._v(" "),t("span",{staticClass:"hljs-attribute"},[s._v("hidden")]),s._v("="),t("span",{staticClass:"hljs-value"},[s._v('"hidden"')]),s._v(">")]),t("span",{staticClass:"hljs-tag"},[s._v("</"),t("span",{staticClass:"hljs-title"},[s._v("audio")]),s._v(">")]),s._v("\n"),t("span",{staticClass:"hljs-tag"},[s._v("<"),t("span",{staticClass:"hljs-title"},[s._v("div")]),s._v(" "),t("span",{staticClass:"hljs-attribute"},[s._v("id")]),s._v("="),t("span",{staticClass:"hljs-value"},[s._v('"audioPlay"')]),s._v(">")]),t("span",{staticClass:"hljs-tag"},[s._v("</"),t("span",{staticClass:"hljs-title"},[s._v("div")]),s._v(">")]),s._v("\n……")])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("pre",{staticClass:"prettyprint"},[t("span",{staticClass:"hljs-id"},[s._v("#audioPlay")]),s._v(" "),t("span",{staticClass:"hljs-rules"},[s._v("{\n  "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("width")]),s._v(":"),t("span",{staticClass:"hljs-value"},[t("span",{staticClass:"hljs-number"},[s._v("38")]),s._v("px")])]),s._v(";\n  "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("height")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-number"},[s._v("38")]),s._v("px")])]),s._v(";\n  "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("background-image")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-function"},[s._v("url("),t("span",{staticClass:"hljs-string"},[s._v('"imgs/music_play.png"')]),s._v(")")])])]),s._v(";\n  "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("background-repeat")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" no-repeat")])]),s._v(";\n  "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("background-size")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-number"},[s._v("100")]),s._v("% "),t("span",{staticClass:"hljs-number"},[s._v("100")]),s._v("%")])]),s._v(";\n  "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("position")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" absolute")])]),s._v(";\n  "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("top")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-number"},[s._v("5")]),s._v("%")])]),s._v(";\n  "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("right")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-number"},[s._v("5")]),s._v("%")])]),s._v(";\n  "),t("span",{staticClass:"hljs-rule"},[t("span",{staticClass:"hljs-attribute"},[s._v("z-index")]),s._v(":"),t("span",{staticClass:"hljs-value"},[s._v(" "),t("span",{staticClass:"hljs-number"},[s._v("9999999")])])]),s._v(";\n"),t("span",{staticClass:"hljs-rule"},[s._v("}")])])])},function(){var s=this.$createElement,a=this._self._c||s;return a("p",[a("img",{attrs:{src:"http://img.blog.csdn.net/20150608101031559",alt:"这里写图片描述"}})])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("pre",{staticClass:"prettyprint"},[s._v("$("),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),t("span",{staticClass:"hljs-params"},[s._v("()")]),s._v("{")]),s._v("\n    "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" curpage="),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(";\n    "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" totalpage,nextpage,lastpage,nexttotalpage;\n    totalpage = $("),t("span",{staticClass:"hljs-string"},[s._v('".page"')]),s._v(").length;\n    nexttotalpage = totalpage + "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(";\n\n    window.onload = "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),t("span",{staticClass:"hljs-params"},[s._v("()")]),s._v("{")]),s._v("\n        $("),t("span",{staticClass:"hljs-string"},[s._v('".loader"')]),s._v(").css("),t("span",{staticClass:"hljs-string"},[s._v('"z-index"')]),s._v(","),t("span",{staticClass:"hljs-string"},[s._v('"1"')]),s._v(");\n        $("),t("span",{staticClass:"hljs-string"},[s._v('".upicon"')]),s._v(").css("),t("span",{staticClass:"hljs-string"},[s._v('"z-index"')]),s._v(","),t("span",{staticClass:"hljs-string"},[s._v('"1000"')]),s._v(");\n        initAudio("),t("span",{staticClass:"hljs-string"},[s._v('"audio"')]),s._v(");\n    }\n\n    "),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" audio;\n    "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("initAudio")]),t("span",{staticClass:"hljs-params"},[s._v("(id)")]),s._v("{")]),s._v("\n        audio =  document.getElementById(id);\n    }\n\n    document.addEventListener("),t("span",{staticClass:"hljs-string"},[s._v("'touchmove'")]),s._v(","),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),t("span",{staticClass:"hljs-params"},[s._v("(event)")]),s._v("{")]),s._v("\n        event.preventDefault(); },"),t("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v(");\n\n"),t("span",{staticClass:"hljs-comment"},[s._v("//控制音乐播放停止和音乐ico图标变换")]),s._v("\n\n    $("),t("span",{staticClass:"hljs-string"},[s._v('".page"')]),s._v(").swipeUp("),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),t("span",{staticClass:"hljs-params"},[s._v("()")]),s._v("{")]),s._v("\n        swichpage();\n    })\n\n    $("),t("span",{staticClass:"hljs-string"},[s._v('"#audioPlay"')]),s._v(").on("),t("span",{staticClass:"hljs-string"},[s._v("'click'")]),s._v(","),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),t("span",{staticClass:"hljs-params"},[s._v("()")]),s._v("{")]),s._v("\n        "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v("(audio.paused){\n            audio.play();\n            "),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".style.backgroundImage="),t("span",{staticClass:"hljs-string"},[s._v('"url(imgs/music_play.png)"')]),s._v(";\n        }"),t("span",{staticClass:"hljs-keyword"},[s._v("else")]),s._v("{\n            audio.pause();\n            "),t("span",{staticClass:"hljs-keyword"},[s._v("this")]),s._v(".style.backgroundImage="),t("span",{staticClass:"hljs-string"},[s._v('"url(imgs/music_pause.png)"')]),s._v(";\n        }\n    });\n\n    "),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),t("span",{staticClass:"hljs-title"},[s._v("swichpage")]),t("span",{staticClass:"hljs-params"},[s._v("()")]),s._v(" {")]),s._v("\n\n"),t("span",{staticClass:"hljs-comment"},[s._v("//判断当前页是否为最后一页")]),s._v("\n\n        "),t("span",{staticClass:"hljs-comment"},[s._v("//获取总页数,以及总页数的+1后的序号，供后面for循环使用")]),s._v("\n\n        "),t("span",{staticClass:"hljs-comment"},[s._v("//如果是最后一页，显示第一页，并移除所有page上的所有css效果类，否则显示下一页，并移除上一页的切换动画效果")]),s._v("\n        "),t("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" (curpage == totalpage) {\n            "),t("span",{staticClass:"hljs-keyword"},[s._v("for")]),s._v(" ("),t("span",{staticClass:"hljs-keyword"},[s._v("var")]),s._v(" i = "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v("; i < nexttotalpage; i++) {\n                $("),t("span",{staticClass:"hljs-string"},[s._v('".page"')]),s._v(" + i).removeClass("),t("span",{staticClass:"hljs-string"},[s._v('"hide"')]),s._v(");\n                $("),t("span",{staticClass:"hljs-string"},[s._v('".page"')]),s._v(" + i).removeClass("),t("span",{staticClass:"hljs-string"},[s._v('"show"')]),s._v(");\n                $("),t("span",{staticClass:"hljs-string"},[s._v('".page"')]),s._v(" + i).removeClass("),t("span",{staticClass:"hljs-string"},[s._v('"pt-page-moveFromBottomFade"')]),s._v(");\n            }\n            $("),t("span",{staticClass:"hljs-string"},[s._v('".page1"')]),s._v(").addClass("),t("span",{staticClass:"hljs-string"},[s._v('"show"')]),s._v(");\n            $("),t("span",{staticClass:"hljs-string"},[s._v('".page1"')]),s._v(").addClass("),t("span",{staticClass:"hljs-string"},[s._v('"pt-page-moveFromBottomFade"')]),s._v(");\n            curpage = "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(";\n        } "),t("span",{staticClass:"hljs-keyword"},[s._v("else")]),s._v(" {\n            nextpage = curpage + "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(";\n            lastpage = curpage - "),t("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(";\n            $("),t("span",{staticClass:"hljs-string"},[s._v('".page"')]),s._v(" + curpage).removeClass("),t("span",{staticClass:"hljs-string"},[s._v('"pt-page-moveFromBottomFade"')]),s._v(");\n            $("),t("span",{staticClass:"hljs-string"},[s._v('".page"')]),s._v(" + curpage).addClass("),t("span",{staticClass:"hljs-string"},[s._v('"pt-page-moveToTopFade"')]),s._v(");\n            $("),t("span",{staticClass:"hljs-string"},[s._v('".page"')]),s._v(" + curpage).removeClass("),t("span",{staticClass:"hljs-string"},[s._v('"show"')]),s._v(");\n            $("),t("span",{staticClass:"hljs-string"},[s._v('".page"')]),s._v(" + curpage).addClass("),t("span",{staticClass:"hljs-string"},[s._v('"hide"')]),s._v(");\n            $("),t("span",{staticClass:"hljs-string"},[s._v('".page"')]),s._v(" + nextpage).removeClass("),t("span",{staticClass:"hljs-string"},[s._v('"hide"')]),s._v(");\n            $("),t("span",{staticClass:"hljs-string"},[s._v('".page"')]),s._v(" + nextpage).addClass("),t("span",{staticClass:"hljs-string"},[s._v('"show"')]),s._v(");\n            $("),t("span",{staticClass:"hljs-string"},[s._v('".page"')]),s._v(" + nextpage).addClass("),t("span",{staticClass:"hljs-string"},[s._v('"pt-page-moveFromBottomFade"')]),s._v(");\n            $("),t("span",{staticClass:"hljs-string"},[s._v('".page"')]),s._v(" + lastpage).removeClass("),t("span",{staticClass:"hljs-string"},[s._v('"pt-page-moveToTopFade"')]),s._v(");\n            curpage = nextpage;\n        }\n    }\n})\n"),t("span",{staticClass:"hljs-comment"},[s._v("//the end")])])},function(){var s=this.$createElement,a=this._self._c||s;return a("p",[a("img",{attrs:{src:"http://img.blog.csdn.net/20150608102350535",alt:"这里写图片描述"}})])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("pre",{staticClass:"prettyprint"},[s._v("……\n            curpage = nextpage;\n        }\n    }\n  setInterval("),t("span",{staticClass:"hljs-function"},[t("span",{staticClass:"hljs-keyword"},[s._v("function")]),t("span",{staticClass:"hljs-params"},[s._v("()")]),s._v("{")]),s._v("\n        swichpage();\n    },"),t("span",{staticClass:"hljs-number"},[s._v("4000")]),s._v(");\n})\n"),t("span",{staticClass:"hljs-comment"},[s._v("// the end")]),s._v("\n")])}],!1,null,null,null);n.options.__file="2016-05-31-从零开始学习制作H5应用——V3.0版，loading,背景音乐及自动切换.md";a.default=n.exports}}]);